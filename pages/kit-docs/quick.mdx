import {CodeTab, CodeTabs} from "../../components/CodeTabs/CodeTabs";
import Section from "../../components/Section/Section";
import { Tab, Tabs, Callout } from 'nextra-theme-docs';


# Quick start
Lets build a quick start app with `PostgreSQL` + `postgresjs` and run our first migration.

The first thing we need to do is to install `drizzle-orm` and `drizzle-kit`:
<Tabs items={["npm", "yarn", "pnpm", "bun"]}>
<Tab>
```shell copy
npm install drizzle-orm postgres
npm install -D drizzle-kit
```
</Tab>
<Tab>
```shell copy
yarn add drizzle-orm postgres
yarn add -D drizzle-kit
```
</Tab>
<Tab>
```shell copy
pnpm add drizzle-orm postgres
pnpm add -D drizzle-kit
```
</Tab>
<Tab>
```shell copy
bun add drizzle-orm postgres
bun add -D drizzle-kit
```
</Tab>
</Tabs>

Lets declare our `schema.ts`:

```plaintext {4}
ðŸ“¦ <project root>
 â”œ ...
 â”œ ðŸ“‚ src
 â”‚ â”” ðŸ“œ schema.ts
 â”” ðŸ“œ package.json
```
```ts copy filename="schema.ts"
import { serial, text, timestamp, pgTable } from "drizzle-orm/pg-core";

export const user = pgTable("user", {
  id: serial("id"),
  name: text("name"),
  email: text("email"),
  password: text("password"),
  role: text("role").$type<"admin" | "customer">(),
  createdAt: timestamp("created_at"),
  updatedAt: timestamp("updated_at"),
});
```

Now lets add drizzle configuration file:
```plaintext {4}
ðŸ“¦ <project root>
 â”œ ...
 â”œ ðŸ“‚ src
 â”œ ðŸ“œ drizzle.config.ts
 â”” ðŸ“œ package.json
```
```ts
import type { Config } from "drizzle-kit";

export default {
  schema: "./src/schema.ts",
  out: "./drizzle",
} satisfies Config;
```

Add generate command to `package.json` and run our first migrations generation:

```json filename="package.json" {5}
{
  "name": "first time?",
  "version": "0.0.1",
  "scripts": {
    "generate": "drizzle-kit generate:pg"
  }, 
}
```
```shell filename="terminal"
$ npm run generate
...

[âœ“] Your SQL migration file âžœ drizzle/0000_pale_mister_fear.sql ðŸš€
```

Done! We now have our first SQL migration file ðŸ¥³
```plaintext {4}
ðŸ“¦ <project root>
 â”œ ðŸ“‚ drizzle
 â”‚ â”œ ðŸ“‚ _meta
 â”‚ â”” ðŸ“œ 0000_pale_mister_fear.sql
 â”œ ðŸ“‚ src
 â”œ ðŸ“œ drizzle.config.ts
 â”” ðŸ“œ package.json
```
Now lets run our first migration to the database:

```plaintext {5}
ðŸ“¦ <project root>
 â”œ ðŸ“‚ drizzle
 â”œ ðŸ“‚ src
 â”‚ â”œ ðŸ“œ schema.ts
 â”‚ â”” ðŸ“œ index.ts
 â”œ ðŸ“œ drizzle.config.ts
 â”” ðŸ“œ package.json
```

```ts copy filename="index.ts"
import { drizzle } from "drizzle-orm/postgres-js";
import { migrate } from "drizzle-orm/postgres-js/migrator";
import postgres from "postgres";

const connectionString = "..."
const sql = postgres(connectionString, { max: 1 })
const db = drizzle(sql);

await migrate(db, { migrationsFolder: "drizzle" });
```

That's it, folks!  

**My personal congratulations ðŸŽ‰**